<h1>購物車</h1>

<%= link_to '清空購物車', cart_path, method: :delete, class: "btn btn-default btn-danger" %>

<table class="table table-hover">
  <thead>
    <tr>
      <td>商品名稱</td>
      <td>數量</td>
      <td>單價</td>
      <td>小計</td>
    </tr>
  </thead>
  <tbody>
    <% current_cart.items.each do |item| %>
      <tr>
        <td><%= item.product.title %></td>
        <td><%= item.quantity %></td>
        <td><%= item.product.price %></td>
        <td><%= item.price %></td>
      </tr>
    <% end %>
  </tbody>
  <tfood>
  <tr>
    <td colspan="3">總計</td>
    <td><%= current_cart.total_price %></td>
  </tfood>
</table>

<%= link_to '繼續選購', products_path, class: "btn btn-default" %>
  <div class="card">
    <h5 class="card-header">Shopping Information</h5>
    <div class="card-body">
      <div class="col-md-4">
        <%= form_for @order do |f| %>
        <div class="form-group">
          <%= f.label :name, 'Name' %>
          <%= f.text_field :name %>
        </div>
        <div class="form-group">
          <%= f.label :phone, 'Phone' %>
          <%= f.text_field :phone %>
        </div>
        <div class="form-group">
          <%= f.label :address, 'Address' %>
          <%= f.text_field :address%>
        </div>
      </div>
    </div>
  </div>
  <br>
  <%= f.submit 'Checkout', class: "btn btn-primary" %>
  <% end %>
<!-- 這個 cart show 頁面，在controller 裡不需定義方法即可顯示。(routes 有定義) -->